{
  "name": "Functions - Set Operations",
  "description": "Tests for set operation functions",
  "tests": [
    {
      "name": "intersect - common items",
      "expression": "{1, 2, 3, 4}.intersect({3, 4, 5, 6})",
      "input": [],
      "expected": [3, 4],
      "tags": ["function", "set", "intersect"]
    },
    {
      "name": "intersect - no common items",
      "expression": "{1, 2, 3}.intersect({4, 5, 6})",
      "input": [],
      "expected": [],
      "tags": ["function", "set", "intersect"]
    },
    {
      "name": "intersect - with empty",
      "expression": "{1, 2, 3}.intersect({})",
      "input": [],
      "expected": [],
      "tags": ["function", "set", "intersect", "empty"]
    },
    {
      "name": "exclude - remove items",
      "expression": "{1, 2, 3, 4}.exclude({3, 4})",
      "input": [],
      "expected": [1, 2],
      "tags": ["function", "set", "exclude"]
    },
    {
      "name": "exclude - remove non-existing",
      "expression": "{1, 2, 3}.exclude({4, 5})",
      "input": [],
      "expected": [1, 2, 3],
      "tags": ["function", "set", "exclude"]
    },
    {
      "name": "exclude - with empty",
      "expression": "{1, 2, 3}.exclude({})",
      "input": [],
      "expected": [1, 2, 3],
      "tags": ["function", "set", "exclude", "empty"]
    },
    {
      "name": "union - removes duplicates",
      "expression": "{1, 2, 3}.union({3, 4, 5})",
      "input": [],
      "expected": [1, 2, 3, 4, 5],
      "tags": ["function", "set", "union"]
    },
    {
      "name": "union - no duplicates",
      "expression": "{1, 2, 3}.union({4, 5, 6})",
      "input": [],
      "expected": [1, 2, 3, 4, 5, 6],
      "tags": ["function", "set", "union"]
    },
    {
      "name": "combine - keeps duplicates",
      "expression": "{1, 2, 3}.combine({3, 4, 5})",
      "input": [],
      "expected": [1, 2, 3, 3, 4, 5],
      "tags": ["function", "set", "combine"]
    },
    {
      "name": "combine - multiple duplicates",
      "expression": "{1, 2, 2}.combine({2, 3, 3})",
      "input": [],
      "expected": [1, 2, 2, 2, 3, 3],
      "tags": ["function", "set", "combine"]
    }
  ]
}